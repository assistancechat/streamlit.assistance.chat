import{A as u,X as h,b as f,a as t,T as i,_ as d,E as b,z as v,p as g,H as _}from"./q-3274b6c6.js";import{F as m,G as y}from"./q-758aa76b.js";const x=e=>{const[s]=u();s.content=e.target.value},p=e=>{u(),e.key},w=e=>{const s=h(m),l=h(y),r=f({content:""});if(e.conversation==null||e.conversation.length==0)return t(g,{},"gP_0");if(e.fieldsToWaitFor!=null)for(let o=0;o<e.fieldsToWaitFor.length;o++){const a=s[e.fieldsToWaitFor[o].recordId];if(a==null||a=="")return t(g,{},"gP_1")}const n=i(()=>d(()=>Promise.resolve().then(()=>c),void 0),"s_f0d0R630zfs",[s,l,e,r]);return t("div",{class:"items-center",children:t("div",{class:"px-5 py-5 flex justify-between bg-white border-b-2 shadow-lg rounded-lg",children:t("div",{class:"w-full px-5 flex flex-col justify-between",children:[t("div",{class:"mt-5",children:e.conversation.map(({message:o},a)=>t("div",{class:`flex ${a%2==0?"justify-start":"justify-end"} mb-4`,children:t("div",{class:`ml-2 py-3 px-4 text-white ${a%2==0?"bg-gray-400 ml-2 rounded-br-3xl rounded-tr-3xl rounded-tl-xl":"bg-blue-400 mr-2 rounded-bl-3xl rounded-tl-3xl rounded-tr-xl"}`,style:{order:"2","overflow-wrap":"anywhere"},children:o})}))}),t("div",{class:"py-5",style:{display:`${e.disabled?"none":"block"}`},children:[t("textarea",{rows:2,class:"block w-full h-32 bg-gray-200 text-gray-700 border border-gray-200 py-5 pl-5 pr-14 rounded-xl mb-3 leading-tight focus:outline-none focus:bg-white focus:border-gray-500",disabled:e.conversation.length%2==0,placeholder:"Type your message here...",get value(){return r.content},onChange$:i(()=>d(()=>Promise.resolve().then(()=>c),void 0),"s_4vUZ8HIkxmQ",[r]),onKeyDown$:i(()=>d(()=>Promise.resolve().then(()=>c),void 0),"s_0ifYVhMU4Gc",[n]),[b]:{value:v(r,"content")}}),t("button",{class:"absolute px-4 py-4 my-12 rounded-xl text-gray-500 bottom-1.5 right-10 hover:text-gray-400 disabled:hover:bg-transparent dark:disabled:hover:bg-transparent",disabled:e.conversation.length%2==0,onClick$:n,children:t("svg",{stroke:"currentColor",fill:"currentColor","stroke-width":"0",viewBox:"0 0 20 20",class:"h-8 w-8 rotate-90",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:t("path",{d:"M10.894 2.553a1 1 0 00-1.788 0l-7 14a1 1 0 001.169 1.409l5-1.429A1 1 0 009 15.571V11a1 1 0 112 0v4.571a1 1 0 00.725.962l5 1.428a1 1 0 001.17-1.408l-7-14z"})})})]})]})})})},T=async()=>{const[e,s,l,r]=u();let n=r.content.trim();if(n=="")return;r.content="";const o=JSON.stringify({client_name:e.name,client_text:n});console.log(o),l.conversation.push({message:n}),n=(await(await fetch("https://api.assistance.chat/chat/student/continue",{method:"POST",body:o,headers:{"Content-Type":"application/json;charset=UTF-8",Authorization:`Bearer ${s.accessToken}`}})).json()).response,l.conversation.push({message:n})},c=Object.freeze(Object.defineProperty({__proto__:null,_hW:_,s_0ifYVhMU4Gc:p,s_4vUZ8HIkxmQ:x,s_Ii9WvOMtHrw:w,s_f0d0R630zfs:T},Symbol.toStringTag,{value:"Module"}));export{_ as _hW,p as s_0ifYVhMU4Gc,x as s_4vUZ8HIkxmQ,w as s_Ii9WvOMtHrw,T as s_f0d0R630zfs};
